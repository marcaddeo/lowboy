{% extends "layout.html" %}

{% block title %}Sun Guy{% endblock %}

{% block main_tag %}
  <main class="mb-auto">
{% endblock %}

{% block head %}
  {% call super() %}
  <style>
    .hill-bg {
      background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='56' viewBox='0 0 36 72'%3E%3Cpath d='M2 6h12L8 18 2 6zm18 36h12l-6 12-6-12z' fill-opacity='.05' fill-rule='evenodd'/%3E%3C/svg%3E");
    }

    .shake {
      animation: shake .5s;
      animation-iteration-count: infinite;
    }

    @keyframes shake {
      0% {
        transform: translate(1px, 1px) rotate(0deg);
      }
      10% {
          transform: translate(-1px, -2px) rotate(-1deg);
      }
      20% {
          transform: translate(-3px) rotate(1deg);
      }
      30% {
          transform: translate(3px, 2px) rotate(0deg);
      }
      40% {
          transform: translate(1px, -1px) rotate(1deg);
      }
      50% {
          transform: translate(-1px, 2px) rotate(-1deg);
      }
      60% {
          transform: translate(-3px, 1px) rotate(0deg);
      }
      70% {
          transform: translate(3px, 1px) rotate(-1deg);
      }
      80% {
          transform: translate(-1px, -1px) rotate(1deg);
      }
      90% {
          transform: translate(1px, 2px) rotate(0deg);
      }
      100% {
          transform: translate(1px, -2px) rotate(-1deg);
      }
    }
  </style>
{% endblock %}

{% block content %}
  <section x-data="{ count: 0, offset: 60 }" id="oh-god-oh-fuck">
    <section id="sky">
      <img :style="{ top: offset + '%'}" :class="count == 7 && 'shake'" src="https://approach-of-the-screaming-sun.netlify.app/static/media/sun.d9ace825.png" alt="sun dude" draggable="false" class="absolute top-[60%] left-[34.301%] w-96 ease duration-1000" />
    </section>

    <section id="controls" class="absolute inset-y-0 left-1 top-1/2">
      <button @click="if (count < 7) { count++; offset -= 4.2; }" aria-label="increase" type="button" class="cursor-pointer block justify-center items-center aspect-square whitespace-nowrap rounded-full bg-sky-900 p-3 text-xs font-medium tracking-wide text-white transition hover:opacity-75 text-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-900 active:opacity-100 active:outline-offset-0 disabled:opacity-75 disabled:cursor-not-allowed dark:bg-sky-400 dark:text-black dark:focus-visible:outline-sky-400">
        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-4 fill-white dark:fill-black" fill="currentColor">
          <path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd" />
        </svg>
      </button>

      <button @click="if (count > 0) { count--; offset += 4.2; }" aria-label="decrease" type="button" class="cursor-pointer block mt-2 justify-center items-center aspect-square whitespace-nowrap rounded-full bg-indigo-900 p-3 text-xs font-medium tracking-wide text-white transition hover:opacity-75 text-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-900 active:opacity-100 active:outline-offset-0 disabled:opacity-75 disabled:cursor-not-allowed dark:bg-indigo-400 dark:text-black dark:focus-visible:outline-indigo-400">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" stroke="currentColor" fill="none" stroke-width="2" class="size-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15" />
        </svg>
      </button>

      <button @click="count = 0; offset = 60" aria-label="reset" type="button" class="cursor-pointer block mt-2 justify-center items-center aspect-square whitespace-nowrap rounded-full bg-gray-200 p-3 text-xs font-medium tracking-wide text-gray-950 transition hover:opacity-75 text-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-200 active:opacity-100 active:outline-offset-0 disabled:opacity-75 disabled:cursor-not-allowed dark:bg-gray-800 dark:text-gray-100 dark:focus-visible:outline-gray-800">
        <span class="block w-4 nf nf-fa-undo"></span>
      </button>
    </section>

    <section id="hill" class="hill-bg w-full bg-[#007f69] absolute inset-x-0 bottom-0 h-[35%] p-20">
      <h1 class="text-center text-white text-4xl">
        Oh god oh fuckâ€”Approach of the Second Sun was played
        <code class="block m-10 text-orange-400 text-6xl" x-text="count">0</code>
        turns ago
      </h1>
    </section>
  </section>
{% endblock %}
